"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[399],{15:(s,e,c)=>{c.d(e,{C_:()=>n,D:()=>t,J4:()=>o,Yo:()=>r,zs:()=>i});var a=c(291);const t=async()=>(0,a.A)("courses"),r=async s=>(0,a.A)("courses/".concat(s)),n=async s=>(0,a.A)("courses","POST",s),o=async(s,e)=>(0,a.A)("courses/".concat(s),"PUT",e),i=async s=>{await(0,a.A)("courses/".concat(s),"DELETE")}},40:(s,e,c)=>{c.d(e,{A:()=>r});var a=c(43),t=c(579);const r=s=>{let{type:e,message:c,onClose:r}=s;return(0,a.useEffect)((()=>{const s=setTimeout((()=>{r&&r()}),3e3);return()=>clearTimeout(s)}),[r]),(0,t.jsx)("div",{className:"notification ".concat(e),children:(0,t.jsx)("span",{children:c})})}},291:(s,e,c)=>{c.d(e,{A:()=>a});const a=async function(s){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2?arguments[2]:void 0;const a="".concat("https://681e251bc1c291fa66332e95.mockapi.io/api/lazarus","/").concat(s),t={method:e,headers:{"Content-Type":"application/json"}};c&&(t.body=JSON.stringify(c));try{return(async s=>{if(!s.ok)throw new Error("HTTP error! status: ".concat(s.status));return s.json()})(await fetch(a,t))}catch(r){throw console.error("API request failed: ".concat(r)),r}}},399:(s,e,c)=>{c.r(e),c.d(e,{default:()=>u});var a=c(43),t=c(475),r=c(15),n=c(612),o=c(579);const i=s=>{let{course:e,formattedPrice:c,onDelete:a}=s;return(0,o.jsxs)("div",{className:"course-card",children:[(0,o.jsx)("h3",{className:"course-title",children:e.title}),e.photoUrl&&(0,o.jsx)("div",{className:"course-image-wrapper",children:(0,o.jsx)("img",{src:e.photoUrl,alt:e.title,className:"course-image"})}),(0,o.jsxs)("div",{className:"course-info",children:[(0,o.jsx)("span",{className:"price",children:c}),(0,o.jsx)("span",{className:"level",children:e.level})]}),(0,o.jsxs)("div",{className:"actions",children:[(0,o.jsx)(t.N_,{to:"/courses/".concat(e.id),className:"details-link",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),a&&(0,o.jsx)("button",{className:"delete-btn",onClick:()=>a(e.id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})};var l=c(40),d=c(925);const u=()=>{const[s,e]=(0,a.useState)([]),[c,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{try{const s=await(0,r.D)();e(s)}catch(s){m((0,d.hS)(s))}finally{u(!1)}})()}),[]);return c?(0,o.jsx)(n.A,{}):(0,o.jsxs)("div",{className:"courses-page",children:[(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsx)("h1",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430\u043c\u0438"}),(0,o.jsxs)("div",{className:"actions-group",children:[(0,o.jsx)(t.N_,{to:"/courses/new",className:"btn primary",children:"+ \u041d\u043e\u0432\u044b\u0439 \u043a\u0443\u0440\u0441"}),(0,o.jsx)(t.N_,{to:"/",className:"btn secondary",children:"\u2190 \u041d\u0430\u0437\u0430\u0434"})]})]}),h&&(0,o.jsx)(l.A,{type:"error",message:h,onClose:()=>m("")}),(0,o.jsx)("div",{className:"courses-grid",children:s.map((c=>(0,o.jsx)(i,{course:c,formattedPrice:(0,d.$g)(c.price),onDelete:()=>(async c=>{try{await(0,r.zs)(c),e(s.filter((s=>s.id!==c)))}catch(h){m((0,d.hS)(h))}})(c.id)},c.id)))})]})}},925:(s,e,c)=>{c.d(e,{$g:()=>a,hS:()=>t});const a=s=>"".concat(Math.round(s)," 000 \u20bd"),t=s=>(console.error(s),s instanceof Error?s.message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}}]);
//# sourceMappingURL=399.64d8ac72.chunk.js.map