"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[722],{15:(e,r,t)=>{t.d(r,{C_:()=>s,D:()=>i,J4:()=>o,Yo:()=>a,zs:()=>c});var n=t(291);const i=async()=>(0,n.A)("courses"),a=async e=>(0,n.A)("courses/".concat(e)),s=async e=>(0,n.A)("courses","POST",e),o=async(e,r)=>(0,n.A)("courses/".concat(e),"PUT",r),c=async e=>{await(0,n.A)("courses/".concat(e),"DELETE")}},291:(e,r,t)=>{t.d(r,{A:()=>n});const n=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2?arguments[2]:void 0;const n="".concat("https://681e251bc1c291fa66332e95.mockapi.io/api/lazarus","/").concat(e),i={method:r,headers:{"Content-Type":"application/json"}};t&&(i.body=JSON.stringify(t));try{return(async e=>{if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})(await fetch(n,i))}catch(a){throw console.error("API request failed: ".concat(a)),a}}},555:(e,r,t)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var r=function(e,r){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==n(r)?r:r+""}function a(e,r,t){return(r=i(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}t.d(r,{A:()=>o})},722:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var n=t(555),i=t(43),a=t(216),s=t(15),o=t(579);const c=()=>{const e=(0,a.Zp)(),{id:r}=(0,a.g)(),t=Boolean(r),[c,l]=(0,i.useState)({title:"",description:"",full_description:"",duration:"",price:"",level:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439",rating:"",materialsUrl:"",prerequisites:"",targetAudience:"",instructor:"",photoUrl:""}),[u,p]=(0,i.useState)(""),[d,h]=(0,i.useState)({price:!1,duration:!1,rating:!1});(0,i.useEffect)((()=>{t&&r&&(0,s.Yo)(r).then((r=>{var t;r&&r.id?l({title:r.title,description:r.description,full_description:r.full_description,duration:r.duration.toString(),price:r.price.toString(),level:r.level,rating:(null===(t=r.rating)||void 0===t?void 0:t.toString())||"",materialsUrl:r.materialsUrl||"",prerequisites:r.prerequisites||"",targetAudience:r.targetAudience||"",instructor:r.instructor||"",photoUrl:r.photoUrl||""}):(console.warn("\u041a\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),e("/courses"))})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430:",e)}))}),[r]);const m=e=>{const{name:r,value:t}=e.target;l((e=>(0,n.A)((0,n.A)({},e),{},{[r]:t})))},j=(e,r)=>{/^\d*(\.\d{0,2})?$/.test(r)?(l((t=>(0,n.A)((0,n.A)({},t),{},{[e]:r}))),h((r=>(0,n.A)((0,n.A)({},r),{},{[e]:!1})))):h((r=>(0,n.A)((0,n.A)({},r),{},{[e]:!0})))};return(0,o.jsxs)("div",{className:"form-container",children:[(0,o.jsx)("h1",{children:t?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430"}),(0,o.jsxs)("form",{onSubmit:async i=>{i.preventDefault();const{title:a,description:o,full_description:l,duration:u,price:d}=c;if(!a||!o||!l||!u||!d)return void p("\u0412\u0441\u0435 \u043f\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f");if(isNaN(Number(u))||isNaN(Number(d)))return void p("\u0426\u0435\u043d\u0430 \u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438");const h=Number(c.rating);if(c.rating&&(isNaN(h)||h<0||h>5))p("\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u043e\u0442 0 \u0434\u043e 5");else{if(c.materialsUrl)try{const e=new URL(c.materialsUrl);if(!["http:","https:"].includes(e.protocol))return void p("\u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 http:// \u0438\u043b\u0438 https://")}catch(m){return void p("\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c URL")}try{const i=(0,n.A)((0,n.A)({},c),{},{price:Number(c.price),duration:Number(c.duration),rating:Number(c.rating),photoUrl:c.photoUrl,materialsUrl:c.materialsUrl});t&&r?await(0,s.J4)(r,i):await(0,s.C_)(i),e("/courses")}catch(j){p("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043a\u0443\u0440\u0441\u0430"),setTimeout((()=>p("")),3e3)}}},children:[(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430"}),(0,o.jsx)("input",{name:"title",value:c.title,onChange:m,required:!0})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,o.jsx)("textarea",{name:"description",value:c.description,onChange:m,required:!0})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,o.jsx)("textarea",{name:"full_description",value:c.full_description,onChange:m,required:!0})]}),(0,o.jsxs)("div",{className:"input-group ".concat(d.duration?"error":""),children:[(0,o.jsx)("label",{children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u0432 \u0447\u0430\u0441\u0430\u0445)"}),(0,o.jsx)("input",{name:"duration",value:c.duration,onChange:e=>j("duration",e.target.value),required:!0}),(0,o.jsx)("span",{className:"hint",children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"})]}),(0,o.jsxs)("div",{className:"input-group ".concat(d.price?"error":""),children:[(0,o.jsx)("label",{children:"\u0426\u0435\u043d\u0430 (\u20bd)"}),(0,o.jsx)("input",{name:"price",value:c.price,onChange:e=>j("price",e.target.value),required:!0}),(0,o.jsx)("span",{className:"hint",children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438"}),(0,o.jsxs)("select",{name:"level",value:c.level,onChange:m,children:[(0,o.jsx)("option",{value:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439",children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439"}),(0,o.jsx)("option",{value:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439"}),(0,o.jsx)("option",{value:"PRO",children:"PRO"})]})]}),(0,o.jsxs)("div",{className:"input-group ".concat(d.rating?"error":""),children:[(0,o.jsx)("label",{children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),(0,o.jsx)("input",{name:"rating",value:c.rating,onChange:e=>j("rating",e.target.value)}),(0,o.jsx)("span",{className:"hint",children:"\u0427\u0438\u0441\u043b\u043e \u043e\u0442 0 \u0434\u043e 5"})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043a\u0443\u0440\u0441\u0430 (\u0441\u0441\u044b\u043b\u043a\u0430)"}),(0,o.jsx)("input",{name:"materialsUrl",value:c.materialsUrl,onChange:m})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f"}),(0,o.jsx)("textarea",{name:"prerequisites",value:c.prerequisites,onChange:m})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"\u0414\u043b\u044f \u043a\u043e\u0433\u043e \u043a\u0443\u0440\u0441"}),(0,o.jsx)("textarea",{name:"targetAudience",value:c.targetAudience,onChange:m})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,o.jsx)("input",{name:"instructor",value:c.instructor,onChange:m})]}),(0,o.jsxs)("div",{className:"form-actions",children:[(0,o.jsx)("button",{type:"submit",className:"primary-btn",children:t?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0443\u0440\u0441"}),(0,o.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>e("/courses"),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}),u&&(0,o.jsx)("div",{className:"error-notification",children:u})]})]})}}}]);
//# sourceMappingURL=722.f2eb8949.chunk.js.map